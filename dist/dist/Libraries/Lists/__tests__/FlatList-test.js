'use strict';var _jsxRuntime=require("react/jsx-runtime");var _this=this,_jsxFileName="/Users/apratt/dev/tmp/react-native/Libraries/Lists/__tests__/FlatList-test.js";var FlatList=require('../FlatList');var React=require('react');var ReactTestRenderer=require('react-test-renderer');describe('FlatList',function(){it('renders simple list',function(){var component=ReactTestRenderer.create((0,_jsxRuntime.jsx)(FlatList,{data:[{key:'i1'},{key:'i2'},{key:'i3'}],renderItem:function renderItem(_ref){var item=_ref.item;return(0,_jsxRuntime.jsx)("item",{value:item.key});}}));expect(component).toMatchSnapshot();});it('renders simple list (multiple columns)',function(){var component=ReactTestRenderer.create((0,_jsxRuntime.jsx)(FlatList,{data:[{key:'i1'},{key:'i2'},{key:'i3'}],renderItem:function renderItem(_ref2){var item=_ref2.item;return(0,_jsxRuntime.jsx)("item",{value:item.key});},numColumns:2}));expect(component).toMatchSnapshot();});it('renders simple list using ListItemComponent',function(){function ListItemComponent(_ref3){var item=_ref3.item;return(0,_jsxRuntime.jsx)("item",{value:item.key});}var component=ReactTestRenderer.create((0,_jsxRuntime.jsx)(FlatList,{data:[{key:'i1'},{key:'i2'},{key:'i3'}],ListItemComponent:ListItemComponent}));expect(component).toMatchSnapshot();});it('renders simple list using ListItemComponent (multiple columns)',function(){function ListItemComponent(_ref4){var item=_ref4.item;return(0,_jsxRuntime.jsx)("item",{value:item.key});}var component=ReactTestRenderer.create((0,_jsxRuntime.jsx)(FlatList,{data:[{key:'i1'},{key:'i2'},{key:'i3'}],ListItemComponent:ListItemComponent,numColumns:2}));expect(component).toMatchSnapshot();});it('renders empty list',function(){var component=ReactTestRenderer.create((0,_jsxRuntime.jsx)(FlatList,{data:[],renderItem:function renderItem(_ref5){var item=_ref5.item;return(0,_jsxRuntime.jsx)("item",{value:item.key});}}));expect(component).toMatchSnapshot();});it('renders null list',function(){var component=ReactTestRenderer.create((0,_jsxRuntime.jsx)(FlatList,{data:undefined,renderItem:function renderItem(_ref6){var item=_ref6.item;return(0,_jsxRuntime.jsx)("item",{value:item.key});}}));expect(component).toMatchSnapshot();});it('renders all the bells and whistles',function(){var component=ReactTestRenderer.create((0,_jsxRuntime.jsx)(FlatList,{ItemSeparatorComponent:function ItemSeparatorComponent(){return(0,_jsxRuntime.jsx)("separator",{});},ListEmptyComponent:function ListEmptyComponent(){return(0,_jsxRuntime.jsx)("empty",{});},ListFooterComponent:function ListFooterComponent(){return(0,_jsxRuntime.jsx)("footer",{});},ListHeaderComponent:function ListHeaderComponent(){return(0,_jsxRuntime.jsx)("header",{});},data:new Array(5).fill().map(function(_,ii){return{id:String(ii)};}),keyExtractor:function keyExtractor(item,index){return item.id;},getItemLayout:function getItemLayout(_ref7){var index=_ref7.index;return{length:50,offset:index*50};},numColumns:2,refreshing:false,onRefresh:jest.fn(),renderItem:function renderItem(_ref8){var item=_ref8.item;return(0,_jsxRuntime.jsx)("item",{value:item.id});}}));expect(component).toMatchSnapshot();});it('getNativeScrollRef for case where it returns a native view',function(){jest.resetModules();jest.unmock('../../Components/ScrollView/ScrollView');var listRef=React.createRef(null);ReactTestRenderer.create((0,_jsxRuntime.jsx)(FlatList,{data:[{key:'outer0'},{key:'outer1'}],renderItem:function renderItem(outerInfo){return(0,_jsxRuntime.jsx)(FlatList,{data:[{key:outerInfo.item.key+':inner0'},{key:outerInfo.item.key+':inner1'}],renderItem:function renderItem(innerInfo){return(0,_jsxRuntime.jsx)("item",{title:innerInfo.item.key});},ref:listRef});}}));var scrollRef=listRef.current.getNativeScrollRef();expect(scrollRef.measure).toBeInstanceOf(jest.fn().constructor);expect(scrollRef.measureLayout).toBeInstanceOf(jest.fn().constructor);expect(scrollRef.measureInWindow).toBeInstanceOf(jest.fn().constructor);});it('getNativeScrollRef for case where it returns a native scroll view',function(){jest.resetModules();jest.unmock('../../Components/ScrollView/ScrollView');function ListItemComponent(_ref9){var item=_ref9.item;return(0,_jsxRuntime.jsx)("item",{value:item.key});}var listRef=React.createRef(null);ReactTestRenderer.create((0,_jsxRuntime.jsx)(FlatList,{data:[{key:'i4'},{key:'i2'},{key:'i3'}],ListItemComponent:ListItemComponent,numColumns:2,ref:listRef}));var scrollRef=listRef.current.getNativeScrollRef();expect(scrollRef.measure).toBeInstanceOf(jest.fn().constructor);expect(scrollRef.measureLayout).toBeInstanceOf(jest.fn().constructor);expect(scrollRef.measureInWindow).toBeInstanceOf(jest.fn().constructor);});it('calls renderItem for all data items',function(){var data=[{key:'i1'},null,undefined,{key:'i2'},null,undefined,{key:'i3'}];var renderItemInOneColumn=jest.fn();ReactTestRenderer.create((0,_jsxRuntime.jsx)(FlatList,{data:data,renderItem:renderItemInOneColumn}));expect(renderItemInOneColumn).toHaveBeenCalledTimes(7);var renderItemInThreeColumns=jest.fn();ReactTestRenderer.create((0,_jsxRuntime.jsx)(FlatList,{data:data,renderItem:renderItemInThreeColumns,numColumns:3}));expect(renderItemInThreeColumns).toHaveBeenCalledTimes(7);});});