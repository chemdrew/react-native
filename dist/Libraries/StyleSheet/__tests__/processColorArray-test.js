'use strict';var _require=require('../../Utilities/Platform'),OS=_require.OS;var PlatformColorAndroid=require('../PlatformColorValueTypes.android').PlatformColor;var PlatformColorIOS=require('../PlatformColorValueTypes.ios').PlatformColor;var DynamicColorIOS=require('../PlatformColorValueTypesIOS.ios').DynamicColorIOS;var processColorArray=require('../processColorArray');var platformSpecific=OS==='android'?function(unsigned){return unsigned|0;}:function(x){return x;};describe('processColorArray',function(){describe('predefined color name array',function(){it('should convert array of color name type',function(){var colorFromStringArray=processColorArray(['red','white','black']);var expectedIntArray=[0xffff0000,0xffffffff,0xff000000].map(platformSpecific);expect(colorFromStringArray).toEqual(expectedIntArray);});it('should convert array of color type rgb(x, y, z)',function(){var colorFromRGBArray=processColorArray(['rgb(10, 20, 30)','rgb(30, 20, 10)','rgb(50, 150, 250)']);var expectedIntArray=[0xff0a141e,0xff1e140a,0xff3296fa].map(platformSpecific);expect(colorFromRGBArray).toEqual(platformSpecific(expectedIntArray));});it('should convert array of color type hsl(x, y%, z%)',function(){var colorFromHSLArray=processColorArray(['hsl(318, 69%, 55%)','hsl(218, 59%, 33%)','hsl(118, 49%, 22%)']);var expectedIntArray=[0xffdb3dac,0xff234786,0xff1e541d].map(platformSpecific);expect(colorFromHSLArray).toEqual(platformSpecific(expectedIntArray));});it('should return null if no array',function(){var colorFromNoArray=processColorArray(null);expect(colorFromNoArray).toEqual(null);});it('converts invalid colors to transparent',function(){var spy=jest.spyOn(console,'error').mockReturnValue(undefined);var colors=['red','???',null,undefined,false];var colorFromStringArray=processColorArray(colors);var expectedIntArray=[0xffff0000,0x00000000,0x00000000,0x00000000,0x00000000].map(platformSpecific);expect(colorFromStringArray).toEqual(expectedIntArray);for(var color of colors.slice(1)){expect(spy).toHaveBeenCalledWith('Invalid value in color array:',color);}spy.mockRestore();});});describe('iOS',function(){if(OS==='ios'){it('should convert array of iOS PlatformColor colors',function(){var colorFromArray=processColorArray([PlatformColorIOS('systemColorWhite'),PlatformColorIOS('systemColorBlack')]);var expectedColorValueArray=[{semantic:['systemColorWhite']},{semantic:['systemColorBlack']}];expect(colorFromArray).toEqual(expectedColorValueArray);});it('should process iOS Dynamic colors',function(){var colorFromArray=processColorArray([DynamicColorIOS({light:'black',dark:'white'}),DynamicColorIOS({light:'white',dark:'black'})]);var expectedColorValueArray=[{dynamic:{light:0xff000000,dark:0xffffffff}},{dynamic:{light:0xffffffff,dark:0xff000000}}];expect(colorFromArray).toEqual(expectedColorValueArray);});}});describe('Android',function(){if(OS==='android'){it('should convert array of Android PlatformColor colors',function(){var colorFromArray=processColorArray([PlatformColorAndroid('?attr/colorPrimary'),PlatformColorAndroid('?colorPrimaryDark')]);var expectedColorValueArray=[{resource_paths:['?attr/colorPrimary']},{resource_paths:['?colorPrimaryDark']}];expect(colorFromArray).toEqual(expectedColorValueArray);});}});});