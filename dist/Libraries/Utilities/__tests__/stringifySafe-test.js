var _stringifySafe=_interopRequireWildcard(require("../stringifySafe"));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}describe('stringifySafe',function(){it('stringifySafe stringifies undefined values',function(){expect((0,_stringifySafe.default)(undefined)).toEqual('undefined');});it('stringifySafe stringifies null values',function(){expect((0,_stringifySafe.default)(null)).toEqual('null');});it('stringifySafe stringifies string values',function(){expect((0,_stringifySafe.default)('abc')).toEqual('"abc"');});it('stringifySafe stringifies function values',function(){expect((0,_stringifySafe.default)(function(){})).toEqual('function () {}');});it('stringifySafe stringifies non-circular objects',function(){expect((0,_stringifySafe.default)({a:1})).toEqual('{"a":1}');});it('stringifySafe stringifies circular objects with toString',function(){var arg={};arg.arg=arg;var result=(0,_stringifySafe.default)(arg);expect(result).toEqual('[object Object]');});it('stringifySafe stringifies circular objects without toString',function(){var arg={x:{},toString:undefined};arg.x=arg;var result=(0,_stringifySafe.default)(arg);expect(result).toEqual('["object" failed to stringify]');});it('stringifySafe stringifies error messages',function(){var error=new Error('error');var result=(0,_stringifySafe.default)(error);expect(result).toEqual('Error: error');});it('stringifySafe truncates long strings',function(){var stringify=(0,_stringifySafe.createStringifySafeWithLimits)({maxStringLimit:3});expect(stringify('abcdefghijklmnopqrstuvwxyz')).toEqual('"abc...(truncated)..."');expect(stringify({a:'abcdefghijklmnopqrstuvwxyz'})).toEqual('{"a":"abc...(truncated)..."}');});it('stringifySafe truncates large arrays',function(){var stringify=(0,_stringifySafe.createStringifySafeWithLimits)({maxArrayLimit:3});expect(stringify([1,2,3,4,5])).toEqual('[1,2,3,"... extra 2 values truncated ..."]');expect(stringify({a:[1,2,3,4,5]})).toEqual('{"a":[1,2,3,"... extra 2 values truncated ..."]}');});it('stringifySafe truncates large objects',function(){var stringify=(0,_stringifySafe.createStringifySafeWithLimits)({maxObjectKeysLimit:3});expect(stringify({a:1,b:2,c:3,d:4,e:5})).toEqual('{"a":1,"b":2,"c":3,"...(truncated keys)...":2}');});it('stringifySafe truncates deep objects',function(){var stringify=(0,_stringifySafe.createStringifySafeWithLimits)({maxDepth:3});expect(stringify({a:{a:{a:{x:0,y:1,z:2}}}})).toEqual('{"a":{"a":{"a":"{ ... object with 3 keys ... }"}}}');});});