var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _objectDestructuringEmpty2=_interopRequireDefault(require("@babel/runtime/helpers/objectDestructuringEmpty"));var _LogBoxInspectorStackFrames=_interopRequireWildcard(require("../LogBoxInspectorStackFrames"));var _jsxRuntime=require("react/jsx-runtime");var _this=this,_jsxFileName="/Users/apratt/dev/tmp/react-native/Libraries/LogBox/UI/__tests__/LogBoxInspectorStackFrames-test.js";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var render=require('../../../../jest/renderer');var LogBoxLog=require('../../Data/LogBoxLog').default;(0,_objectDestructuringEmpty2.default)(require('../LogBoxInspectorStackFrames'));var React=require('react');var createLogWithFrames=function createLogWithFrames(collapsedOptions){return new LogBoxLog({level:'warn',isComponentError:false,message:{content:'Some kind of message (latest)',substitutions:[]},stack:createCollapsedFrames(collapsedOptions),category:'Some kind of message (latest)',componentStack:[]});};var createCollapsedFrames=function createCollapsedFrames(collapsedOptions){return collapsedOptions.map(function(option){return{column:1,file:'dependency.js',lineNumber:1,methodName:'foo',collapse:option==null?false:option};});};describe('LogBoxInspectorStackFrame',function(){it('should render stack frames with 1 frame collapsed',function(){var output=render.shallowRender((0,_jsxRuntime.jsx)(_LogBoxInspectorStackFrames.default,{onRetry:function onRetry(){},log:createLogWithFrames([false,true])}));expect(output).toMatchSnapshot();});it('should render null for empty stack frames',function(){var output=render.shallowRender((0,_jsxRuntime.jsx)(_LogBoxInspectorStackFrames.default,{onRetry:function onRetry(){},log:createLogWithFrames([])}));expect(output).toMatchSnapshot();});it.each([[null,null,null,true,'No frames to show'],[true,null,null,true,'See 1 collapsed frame'],[true,null,null,false,'Collapse 1 frame'],[false,false,false,true,'Showing all frames'],[true,false,false,true,'See 1 more frame'],[true,true,false,true,'See 2 more frames'],[true,true,true,true,'See all 3 collapsed frames'],[true,true,true,false,'Collapse all 3 frames'],[true,true,false,false,'Collapse 2 frames'],[true,false,false,false,'Collapse 1 frame'],[false,false,false,false,'Showing all frames']])('For permutation %s, %s, %s and %s, should render %s',function(stackOne,stackTwo,stackThree,collapsed,message){expect((0,_LogBoxInspectorStackFrames.getCollapseMessage)(createCollapsedFrames([stackOne,stackTwo,stackThree].filter(function(i){return i!=null;})),collapsed)).toEqual(message);});});